fragment basicSessionFields on Session {
  id
  createdAt
  lastUpdated
}

fragment pieceFields on Piece {
  color
  type
}

fragment squareXYFields on Square {
  file
  rank
}

query PlayGame($gameId: ID!, $userId: ID!) {
  playGame(gameId: $gameId, userId: $userId) {
    ...basicSessionFields
    players {
      ...userWithId
    }
    gameState {
      gameStarted
      gameOver
      currentTurn
    }
    gameboard {
      squares {
        file
        rank
        piece {
          ...pieceFields
        }
      }
      whiteKingLocation {
        ...squareXYFields
        name
      }
      blackKingLocation {
        ...squareXYFields
        name
      }
    }
  }
}

mutation FindGame($userId: ID!) {
  findGame(userId: $userId) {
    elapsedTime
  }
}

subscription MatchFound($userId: ID!) {
  matchFound(userId: $userId) {
    ...basicSessionFields
  }
}
