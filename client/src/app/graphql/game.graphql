fragment basicSessionFields on Session {
  id
  createdAt
  lastUpdated
}

query PlayGame($gameId: ID!, $userId: ID!) {
  playGame(gameId: $gameId, userId: $userId) {
    ...basicSessionFields
    players {
      ...userWithId
    }
    gameState {
      gameStarted
      gameOver
      currentTurn
    }
    gameboard {
      squares {
        file
        rank
        piece {
          color
          type
        }
      }
    }
  }
}

mutation FindGame($userId: ID!) {
  findGame(userId: $userId) {
    elapsedTime
  }
}

subscription MatchFound($userId: ID!) {
  matchFound(userId: $userId) {
    ...basicSessionFields
  }
}
