<div class="board d-table mx-auto text-center">
  <!-- divide up by rank/row/y -->
  <div
    *ngFor="
      let r of board?.squares | twoDArr: 8;
      let r_index = index;
      let r_odd = odd;
      let r_even = even
    "
    class="board-rank"
  >
    <div
      *ngFor="
        let s of r;
        let s_index = index;
        let s_odd = odd;
        let s_even = even
      "
      class="board-square"
      [ngClass]="{
        white: (s_even && r_even) || (s_odd && r_odd),
        black: (s_odd && r_even) || (s_even && r_odd)
      }"
      id="square-{{ '' + s.file + s.rank }}"
    >
      <span *ngIf="s.rank === 1" class="annotation files">
        {{ s.file }}
      </span>
      <span *ngIf="s.file === eFile.A" class="annotation ranks">{{
        s.rank
      }}</span>
      <i
        *ngIf="s?.piece"
        class="fas fa-chess-{{ s.piece?.type | lowercase }} {{
          s.piece?.color | lowercase
        }}"
        [ngClass]="{
          white: s.piece?.color === eColor.White,
          black: s.piece?.color === eColor.Black,
          'white-turn':
            s.piece?.color === eColor.White && currTurn === eColor.White,
          'black-turn':
            s.piece?.color === eColor.Black && currTurn === eColor.Black
        }"
      ></i>
    </div>
  </div>
</div>

<div *ngIf="board" class="controls">
  <!-- {{ board | json }} -->
  <!-- <button (click)="move()">move</button>

  <button (click)="testGetMove()">test get moves</button> -->
</div>
